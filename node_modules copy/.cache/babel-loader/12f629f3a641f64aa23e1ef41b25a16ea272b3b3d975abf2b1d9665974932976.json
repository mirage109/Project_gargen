{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState } from \"react\";\nexport const useProductFilter = initialData => {\n  _s();\n  const [showDiscounted, setShowDiscounted] = useState(false);\n  const [sortOption, setSortOption] = useState(\"Default\");\n  const [fromPrice, setFromPrice] = useState(\"\");\n  const [toPrice, setToPrice] = useState(\"\");\n  const {\n    data\n  } = initialData;\n  const getDiscountedProducts = () => {\n    return data.filter(el => el.discont_price !== null);\n  };\n  const sortByPrice = (products, ascending) => {\n    return products.slice().sort((a, b) => {\n      const priceA = a.discont_price !== null ? a.discont_price : a.price;\n      const priceB = b.discont_price !== null ? b.discont_price : b.price;\n      return ascending ? priceA - priceB : priceB - priceA;\n    });\n  };\n  const filterProductsByPrice = products => {\n    return products.filter(product => {\n      const price = product.discont_price !== null ? product.discont_price : product.price;\n      const from = fromPrice === \"\" ? Number.MIN_SAFE_INTEGER : parseInt(fromPrice);\n      const to = toPrice === \"\" ? Number.MAX_SAFE_INTEGER : parseInt(toPrice);\n      return price >= from && price <= to;\n    });\n  };\n  let sortedProducts = data;\n  let discountedProducts = getDiscountedProducts();\n  if (sortOption === \"Ascending\") {\n    sortedProducts = sortByPrice(discountedProducts, true);\n  } else if (sortOption === \"Descending\") {\n    sortedProducts = sortByPrice(discountedProducts, false);\n  }\n  if (fromPrice !== \"\" || toPrice !== \"\") {\n    sortedProducts = filterProductsByPrice(sortedProducts);\n  }\n  return {\n    showDiscounted,\n    setShowDiscounted,\n    sortOption,\n    setSortOption,\n    fromPrice,\n    setFromPrice,\n    toPrice,\n    setToPrice,\n    filteredProducts: sortedProducts,\n    discountedProducts\n  };\n};\n_s(useProductFilter, \"v/0M/BvIGxKznyJYFJ0YPGr2MSw=\");","map":{"version":3,"names":["useState","useProductFilter","initialData","_s","showDiscounted","setShowDiscounted","sortOption","setSortOption","fromPrice","setFromPrice","toPrice","setToPrice","data","getDiscountedProducts","filter","el","discont_price","sortByPrice","products","ascending","slice","sort","a","b","priceA","price","priceB","filterProductsByPrice","product","from","Number","MIN_SAFE_INTEGER","parseInt","to","MAX_SAFE_INTEGER","sortedProducts","discountedProducts","filteredProducts"],"sources":["D:/Project_java/Project_garden/garden/src/redux/useProductFilter.js"],"sourcesContent":["import { useState } from \"react\";\r\n\r\nexport const useProductFilter = (initialData) => {\r\n  const [showDiscounted, setShowDiscounted] = useState(false);\r\n  const [sortOption, setSortOption] = useState(\"Default\");\r\n  const [fromPrice, setFromPrice] = useState(\"\");\r\n  const [toPrice, setToPrice] = useState(\"\");\r\n  const { data } = initialData;\r\n\r\n  const getDiscountedProducts = () => {\r\n    return data.filter((el) => el.discont_price !== null);\r\n  };\r\n\r\n  const sortByPrice = (products, ascending) => {\r\n    return products.slice().sort((a, b) => {\r\n      const priceA = a.discont_price !== null ? a.discont_price : a.price;\r\n      const priceB = b.discont_price !== null ? b.discont_price : b.price;\r\n      return ascending ? priceA - priceB : priceB - priceA;\r\n    });\r\n  };\r\n\r\n  const filterProductsByPrice = (products) => {\r\n    return products.filter((product) => {\r\n      const price =\r\n        product.discont_price !== null ? product.discont_price : product.price;\r\n      const from =\r\n        fromPrice === \"\" ? Number.MIN_SAFE_INTEGER : parseInt(fromPrice);\r\n      const to = toPrice === \"\" ? Number.MAX_SAFE_INTEGER : parseInt(toPrice);\r\n      return price >= from && price <= to;\r\n    });\r\n  };\r\n\r\n  let sortedProducts = data;\r\n  let discountedProducts = getDiscountedProducts();\r\n\r\n  if (sortOption === \"Ascending\") {\r\n    sortedProducts = sortByPrice(discountedProducts, true);\r\n  } else if (sortOption === \"Descending\") {\r\n    sortedProducts = sortByPrice(discountedProducts, false);\r\n  }\r\n  if (fromPrice !== \"\" || toPrice !== \"\") {\r\n    sortedProducts = filterProductsByPrice(sortedProducts);\r\n  }\r\n\r\n  return {\r\n    showDiscounted,\r\n    setShowDiscounted,\r\n    sortOption,\r\n    setSortOption,\r\n    fromPrice,\r\n    setFromPrice,\r\n    toPrice,\r\n    setToPrice,\r\n    filteredProducts: sortedProducts,\r\n    discountedProducts,\r\n  };\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\n"],"mappings":";AAAA,SAASA,QAAQ,QAAQ,OAAO;AAEhC,OAAO,MAAMC,gBAAgB,GAAIC,WAAW,IAAK;EAAAC,EAAA;EAC/C,MAAM,CAACC,cAAc,EAAEC,iBAAiB,CAAC,GAAGL,QAAQ,CAAC,KAAK,CAAC;EAC3D,MAAM,CAACM,UAAU,EAAEC,aAAa,CAAC,GAAGP,QAAQ,CAAC,SAAS,CAAC;EACvD,MAAM,CAACQ,SAAS,EAAEC,YAAY,CAAC,GAAGT,QAAQ,CAAC,EAAE,CAAC;EAC9C,MAAM,CAACU,OAAO,EAAEC,UAAU,CAAC,GAAGX,QAAQ,CAAC,EAAE,CAAC;EAC1C,MAAM;IAAEY;EAAK,CAAC,GAAGV,WAAW;EAE5B,MAAMW,qBAAqB,GAAGA,CAAA,KAAM;IAClC,OAAOD,IAAI,CAACE,MAAM,CAAEC,EAAE,IAAKA,EAAE,CAACC,aAAa,KAAK,IAAI,CAAC;EACvD,CAAC;EAED,MAAMC,WAAW,GAAGA,CAACC,QAAQ,EAAEC,SAAS,KAAK;IAC3C,OAAOD,QAAQ,CAACE,KAAK,CAAC,CAAC,CAACC,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAK;MACrC,MAAMC,MAAM,GAAGF,CAAC,CAACN,aAAa,KAAK,IAAI,GAAGM,CAAC,CAACN,aAAa,GAAGM,CAAC,CAACG,KAAK;MACnE,MAAMC,MAAM,GAAGH,CAAC,CAACP,aAAa,KAAK,IAAI,GAAGO,CAAC,CAACP,aAAa,GAAGO,CAAC,CAACE,KAAK;MACnE,OAAON,SAAS,GAAGK,MAAM,GAAGE,MAAM,GAAGA,MAAM,GAAGF,MAAM;IACtD,CAAC,CAAC;EACJ,CAAC;EAED,MAAMG,qBAAqB,GAAIT,QAAQ,IAAK;IAC1C,OAAOA,QAAQ,CAACJ,MAAM,CAAEc,OAAO,IAAK;MAClC,MAAMH,KAAK,GACTG,OAAO,CAACZ,aAAa,KAAK,IAAI,GAAGY,OAAO,CAACZ,aAAa,GAAGY,OAAO,CAACH,KAAK;MACxE,MAAMI,IAAI,GACRrB,SAAS,KAAK,EAAE,GAAGsB,MAAM,CAACC,gBAAgB,GAAGC,QAAQ,CAACxB,SAAS,CAAC;MAClE,MAAMyB,EAAE,GAAGvB,OAAO,KAAK,EAAE,GAAGoB,MAAM,CAACI,gBAAgB,GAAGF,QAAQ,CAACtB,OAAO,CAAC;MACvE,OAAOe,KAAK,IAAII,IAAI,IAAIJ,KAAK,IAAIQ,EAAE;IACrC,CAAC,CAAC;EACJ,CAAC;EAED,IAAIE,cAAc,GAAGvB,IAAI;EACzB,IAAIwB,kBAAkB,GAAGvB,qBAAqB,CAAC,CAAC;EAEhD,IAAIP,UAAU,KAAK,WAAW,EAAE;IAC9B6B,cAAc,GAAGlB,WAAW,CAACmB,kBAAkB,EAAE,IAAI,CAAC;EACxD,CAAC,MAAM,IAAI9B,UAAU,KAAK,YAAY,EAAE;IACtC6B,cAAc,GAAGlB,WAAW,CAACmB,kBAAkB,EAAE,KAAK,CAAC;EACzD;EACA,IAAI5B,SAAS,KAAK,EAAE,IAAIE,OAAO,KAAK,EAAE,EAAE;IACtCyB,cAAc,GAAGR,qBAAqB,CAACQ,cAAc,CAAC;EACxD;EAEA,OAAO;IACL/B,cAAc;IACdC,iBAAiB;IACjBC,UAAU;IACVC,aAAa;IACbC,SAAS;IACTC,YAAY;IACZC,OAAO;IACPC,UAAU;IACV0B,gBAAgB,EAAEF,cAAc;IAChCC;EACF,CAAC;AACH,CAAC;AAACjC,EAAA,CAtDWF,gBAAgB"},"metadata":{},"sourceType":"module","externalDependencies":[]}